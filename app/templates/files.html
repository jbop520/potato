{% extends "test.html" %}
{% block title %}æ–‡ä»¶æµè§ˆä¸ä¸‹è½½{% endblock %}
{% block content %}
  <h1>æ–‡ä»¶æµè§ˆä¸ä¸‹è½½</h1>
  <div style="margin-bottom:8px;color:#666;">
    <span class="badge">BASE</span> {{ base }}
  </div>

  <div style="margin:8px 0 16px;color:#666;">
    å½“å‰ä½ç½®ï¼š <a href="{{ url_for('files_bp.list_files') }}">/</a>
    {% for bc in breadcrumbs %} / <a href="{{ url_for('files_bp.list_files', subpath=bc.rel) }}">{{ bc.name }}</a>{% endfor %}
  </div>

  {% if parent_rel %}
    <p><a href="{{ url_for('files_bp.list_files', subpath=parent_rel) }}">â¬… è¿”å›ä¸Šçº§</a></p>
  {% endif %}

  <table>
    <thead><tr><th>åç§°</th><th style="width:120px;">å¤§å°</th><th>æ“ä½œ</th></tr></thead>
    <tbody>
      {% for item in entries %}
        <tr>
          <td>
            {% if item.is_dir %}
              ğŸ“ <a href="{{ url_for('files_bp.list_files', subpath=item.rel) }}">{{ item.name }}</a>
            {% else %}
              ğŸ“„ {{ item.name }}
            {% endif %}
          </td>
          <td>{{ item.size }}</td>
          <td>
            {% if not item.is_dir %}
              <a href="{{ url_for('files_bp.download_file', subpath=item.rel) }}">ä¸‹è½½</a>
            {% endif %}
          </td>
        </tr>
      {% endfor %}
      {% if not entries %}
        <tr><td colspan="3">ç©ºç›®å½•</td></tr>
      {% endif %}
    </tbody>
  </table>
{% endblock %}
